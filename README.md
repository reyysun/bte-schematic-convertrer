![Geo to Schematic logo](https://github.com/reyysun/geo-to-schematic/blob/main/images/btestylelogo.png "BTE Schematic Converter logo")
# Geo to Schematic
* Сonvert KML and Geojson files with geodata into Minecraft schematic files. Geometry elements in the schematic will be placed according to the BuildTheEarth projection.
* Конвертируйте KML и Geojson файлы с геоданными в Minecraft schematic-файлы. Геометрические объекты в схематике будут размещены по проекции BuildTheEarth.
## About
* The site supports geographic data files with the extensions ".kml" and ".geojson";
* The output file is a schematic with the extension ".schem" (Sponge schematic);
* The converter should understand most kml and geojson files generated by other programs, in particular Google Earth Pro and QGis;
* The file may contain LineString, Polygon and Point geometry objects. Also, you can have the MultiGeometry container object with lines and polygons in it;
* Coordinates can be either with or without the height parameter. If the heights are specified, the converter will place the objects in the schematic at the corresponding height minus 1 (so that desired height is displayed in the game when standing on them). If there are no heights in the file, the lines will be at height 0.
## Инфо
* Сайт поддерживает файлы географических данных с расширениями ".kml" и ".geojson";
* Выходной файл - схематик с расширением ".schem" (Sponge schematic);
* Конвертер должен понимать большинство kml и geojson файлов, генерируемых другими программами, в частности Google Earth Pro и QGis;
* В файле могут быть геометрические объекты LineString (линия), Polygon (полигон) и Point (точка). Также поддерживается объект-контейнер MultiGeometry с вложенными в него линиями и полигонами;
* Координаты могут быть как с параметром высоты, так и без него. Если высоты заданы, то конвертер расположит объекты в схематике на соответствующей им высоте минус 1 (чтобы в игре, стоя на них, отображалась нужная высота). Если же высот нет, то линии будут на высоте 0.
## Credits
Credits to [TerraSketch](https://github.com/Codestian/TerraSketch) for the logic of converting an array of coordinates into a schematic. Use TerraSketch for outlining in BTE projection!
## Modules used
1. [@bte-germany/terraconvert](https://github.com/Nachwahl/terraconvert) - for converting from latlng to minecraft coordinates
2. [prismarine-nbt](https://github.com/PrismarineJS/prismarine-nbt) - for writing NBT data
3. [browserify](https://browserify.org/) - to compile node.js modules for the browser
## How to build
This project uses [Browserify](https://browserify.org/) to convert `converter.js` into a browser-ready `ultraconverter.js`, which is used by `index.html`. You can look up for ultraconverter in gh-pages branch, but it's 38k lines long, so there's no need to edit that file manually — instead, make changes in `converter.js`, then bundle it using Browserify. Here's how:
1. Clone the main repository
```
git clone https://github.com/reyysun/geo-to-schematic
cd geo-to-schematic
```
2. Install dependencies
```
npm install
```
3. Build the browser bundle
```
npm run build
```
This will run `browserify converter.js -o ultraconverter.js` and build ultraconverter.js.
Then you can run `index.html` on localhost.